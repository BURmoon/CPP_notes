## 描述

- 使用dup2函数对标准输出重定向，通过printf()函数将数据输出到文件A

  执行程序后，文件A中没有出现printf()所打印的内容

- 原因

  重定向后printf()函数将由行缓冲变为全缓冲

- 解决

  在printf()函数代码后添加 `fflush(stdout);`

---

### 全缓存

- 填满标准I/O缓存区才进行实际的I/O操作

- 磁盘上的文件用标准I/O打开，默认都是全缓存的

  当缓存区填满或者进行flush操作时候才会进行磁盘操作

### 行缓存

- 当输入输出遇到换行符时候就进行I/O操作，标准输入和标准输出都是行缓存

### 无缓存

- 不对I/O操作进行缓存，对流的读写可以立即操作实际文件，典型例子就是标准出错



