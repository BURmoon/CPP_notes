## 1 协议概述

> 协议是数据传输和数据的解释的规则

- TCP协议注重数据的传输，http协议着重于数据的解释

### 1.1 典型协议

- 传输层

  > 常见协议有TCP/UDP协议

  - TCP传输控制协议（Transmission Control Protocol）

    是一种面向连接的、可靠的、基于字节流的传输层通信协议

    - 16位：源端口号
    - 16位：目的端口号
    - 32序号
    - 32确认序号	
    - 6个标志位
    - 16位窗口大小

- 应用层

  > 常见的协议有HTTP协议，FTP协议

  - HTTP超文本传输协议（Hyper Text Transfer Protocol）

    是互联网上应用最为广泛的一种网络协议

- 网络层

  > 常见协议有IP协议、ICMP协议、IGMP协议

  - IP协议是因特网互联协议（Internet Protocol）

    - 版本： 4位，分IPv4、IPv6

    - TTL(time to live)  ：设置数据包在路由节点中的跳转上限

      每经过一个路由节点该值-1， 减为0的路由，将该数据包丢弃

    - 源IP：32位

    - 目的IP：32位

- 网络接口层

  > 常见协议有以太网帧协议、ARP协议、RARP协议

  - 以太网帧协议：根据MAC地址，完成数据包传输
  - ARP协议：是正向地址解析协议（Address Resolution Protocol）
    - 通过已知的IP，寻找对应主机的MAC地址
  - RARP协议：是反向地址转换协议，通过MAC地址确定IP地址

## 2 设计模式

- C/S模式

  > 客户机(client)/服务器(server)模式

  - 需要在通讯两端各自部署客户机和服务器来完成数据通信

  - 优点：高数据传输效率、协议相对灵活

    缺点：工作量大、安全性构成威胁、可以缓存数据

- B/S模式

  > 浏览器()/服务器(server)模式

  - 只需在一端部署服务器，而另外一端使用每台PC都默认配置的浏览器即可完成数据的传输

  - 优点：开发周期短、开发量较小、不受平台限制

    缺点：网络应用支持受限、传输数据量受到限制、协议选择不灵活

## 3 分层模型

- 国际标准化组织(ISO)制定了OSI模型

  该模型定义了不同计算机互联的标准, 是设计和描述计算机网络通信的基本框架

- OSI七层模型

  > 物理层、数据链路层、网络层、传输层、会话层、表示层、应用层

  - 应用层: 	主要就是应用程序
    - ftp，ssh，email，http
  - 表示层: 	进行编解码和翻译工作
  - 会话层: 	建立会话和保持会话
  - 传输层: 	定义了端到端的传输
    - TCP，UDP协议
  - 网络层: 	定义了点到点的传输
    - IP协议，路由器
  - 数据链路层:	数据校验, 定义了数据格式
    - 帧，ARP协议，RARP协议
  - 物理层: 	通信介质-双绞线, 光纤

- TCP/IP四层模型

  > 应用层（Application）、传输层（Transport）、网络层（Network）、链路层（Link）

  - 网络层负责点到点（ptop，point-to-point）的传输（这里的“点”指主机或路由器）
  - 传输层负责端到端（etoe，end-to-end）的传输（这里的“端”指源主机和目的主机）

